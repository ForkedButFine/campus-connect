<!doctype html>
<html>
<head><meta charset="utf-8"><title>Login - Collage Connect</title><link rel="stylesheet" href="style.css"></head>
<body>
  <div class="container">
    <h2>Login</h2>
    <div class="form-group"><input id="email" placeholder="Email" type="email"></div>
    <div class="form-group"><input id="password" placeholder="Password" type="password"></div>
    <div><button class="primary" onclick="login()">Login</button></div>
    <p>No account? <a href="signup.html">Sign up</a></p>
  </div>

  <script>
  async function login(){
    const email = document.getElementById('email').value;
    const password = document.getElementById('password').value;
    const r = await fetch('/api/login', {
      method:'POST', headers:{'Content-Type':'application/json'},
      body: JSON.stringify({email,password})
    });
    const j = await r.json();
    if(r.ok) { alert('Login success'); localStorage.setItem('token', j.token); location.href='index.html'; }
    else alert(j.error || 'Login failed');
  }
  </script>
</body>
</html>
