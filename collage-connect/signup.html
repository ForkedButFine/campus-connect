<!doctype html>
<html>
<head><meta charset="utf-8"><title>Sign up - Collage Connect</title><link rel="stylesheet" href="style.css"></head>
<body>
  <div class="container">
    <h2>Sign up</h2>
    <div class="form-group"><input id="name" placeholder="Your name"></div>
    <div class="form-group"><input id="email" placeholder="Email" type="email"></div>
    <div class="form-group"><input id="password" placeholder="Password" type="password"></div>
    <div><button class="primary" onclick="signup()">Sign up</button></div>
    <p>Already have an account? <a href="login.html">Login</a></p>
  </div>

  <script>
  async function signup(){
    const name = document.getElementById('name').value;
    const email = document.getElementById('email').value;
    const password = document.getElementById('password').value;
    const r = await fetch('/api/signup', {
      method:'POST', headers:{'Content-Type':'application/json'},
      body: JSON.stringify({name,email,password})
    });
    const j = await r.json();
    if(r.ok) { alert('Signed up! Please login.'); location.href='login.html'; }
    else alert(j.error || 'Signup failed');
  }
  </script>
</body>
</html>
